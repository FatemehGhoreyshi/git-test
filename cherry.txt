This is a cherry-picked change
